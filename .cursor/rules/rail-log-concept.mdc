---
description: 
globs: 
alwaysApply: true
---

# Your rule content
.

ğŸ¯ Projekt: Rail Log â€“ Webbasierte App fÃ¼r Logistikmanagement im Bahnbau
ğŸŒ Sprache
Deutsch (Frontend und Benutzerinteraktion)

ğŸ”§ Technologie-Empfehlung (Tech-Stack)
Basierend auf deinem bestehenden Skillset und dem Projektbedarf empfehle ich diesen modernen Tech-Stack:

Bereich	Technologie
Frontend	Next.js (React), TailwindCSS
Backend & Auth	Supabase (fÃ¼r Auth, DB, File Storage, Realtime)
Deployment	Vercel
State Management	React Context oder Zustand (fÃ¼r komplexe UI-ZustÃ¤nde)
Canvas/Visualisierung	Konva.js oder SVG mit D3.js fÃ¼r Track/Wagen-Zeitleiste
Sonstiges	Python (fÃ¼r evtl. serverseitige Analysen/Tools), Github fÃ¼r Versionierung
ğŸ“˜ Beschreibung der Anwendung
Rail Log ist eine Webanwendung zur Verwaltung von Bauzuglogistik in Infrastrukturprojekten. Sie visualisiert den Standort und die Bewegung von Waggons in "Logistikknoten" auf einer Zeitachse â€“ als interaktive Darstellung mit Planungs- und Kontrollfunktionen.

ğŸ§© Hauptkomponenten
1. Canvas-Zeitleiste
Darstellung der Gleise als horizontale Balken

Darstellung der Waggons als Rechtecke innerhalb der Gleisbalken

Oben: Zeitachse (Slider). Beim Verschieben:

Vergangenes = effektive ZustÃ¤nde

ZukÃ¼nftiges = geplante ZustÃ¤nde

Farbe des Waggons = ZugehÃ¶rigkeit zu einem Projekt

Klick auf Waggon Ã¶ffnet Detailfenster

2. Logistische Objekte & Struktur
ğŸ§± Logistikknoten
Jede Baustelle oder Station ist ein Logistikknoten

Ein Knoten enthÃ¤lt mehrere Gleise

Gleis-Attribute:

Name

NutzlÃ¤nge in Metern

ğŸš› Waggons
Eigenschaften:

ID (optional)

Typ (aus Masterliste, inkl. â€Customâ€œ)

LÃ¤nge (abhÃ¤ngig vom Typ)

Inhalt (optional)

Projekt-ZugehÃ¶rigkeit

Ankunfts- und Abfahrtsdatum (aus Trips berechnet)

ğŸšš Trips (Bewegungen)
Typen:

Lieferung

Abfahrt

Interne Bewegung

Jede Bewegung ist entweder:

Geplant (zukÃ¼nftige Buchung)

Effektiv (vergangene oder bestÃ¤tigte Bewegung)

Drag-and-Drop-Interface fÃ¼r interne Trips vorgeschlagen

Vor jeder Buchung: KapazitÃ¤tsprÃ¼fung auf dem Zielgleis (Summe WaggonlÃ¤ngen â‰¤ NutzlÃ¤nge)

3. Restriktionen
Zwei Arten:

Kein Eingang mÃ¶glich (z.â€¯B. Streckensperre)

Kein Ausgang mÃ¶glich

Eigenschaften:

Zeitfenster (von/bis)

Betroffene Gleise oder Knoten (Mehrfachauswahl)

Wiederholung (tÃ¤glich, wÃ¶chentlich etc.)

Kommentar

Validierung:

Neue Trip-Buchungen prÃ¼fen auf bestehende Restriktionen

Neue Restriktionen prÃ¼fen auf bestehende Trips

Bei Konflikt: Benutzerwarnung & Markierung des Trips als â€problematischâ€œ

4. Informationsfenster (unten im UI)
Planung & Restriktionen (fÃ¼r ausgewÃ¤hltes Datum)

Trip-Typ, Zeit, Ort, Waggontypen

Restriktionen in Rot mit Grundtext

Waggon-Details

Bei Klick auf Waggon: Anzeigen und (teilweise) bearbeiten

5. Exportfunktion
CSV/TXT-Export aller geplanten/effectiven Trips & Restriktionen

6. Benutzer & Authentifizierung
Login mit Supabase Auth

Zwei Rollen:

Logistikmanager (Admin):

Erstellen/Bearbeiten aller Objekte & Restriktionen

Zugriff auf Admin-Konsole

Viewer:

Nur lesender Zugriff auf Zeitachse, Waggonpositionen und Exporte

ğŸ’¡ Zusatzfeatures (optional fÃ¼r spÃ¤tere Iterationen)
Drag & Drop UX-Optimierungen

Realtime-Updates mit Supabase Realtime

Mobile Optimierung

Audit-Log (z.â€¯B. Ã„nderungshistorie bei Trips)

ğŸ—ƒï¸ Datenmodell (Beispiel-Schema fÃ¼r Supabase)
projects

id, name, color

nodes

id, name, type (station/site), project_id

tracks

id, node_id, name, length

wagons

id, type, length, content, project_id

trips

id, type (delivery/departure/internal), datetime, wagons[], source_track_id, dest_track_id, transport_plan_number

restrictions

id, type (in/out), from_datetime, to_datetime, node_ids[], track_ids[], recurrence, comment

users

id, email, role (admin/viewer)

